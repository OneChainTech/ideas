<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>小黑板</title>
    <link rel="stylesheet" href="styles/main.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="./lib/mermaid.min.js"></script>
    <script src="./lib/fabric.min.js"></script>
</head>
<body>
    <div class="wrapper">
        <button id="toggleToolbar" class="toggle-toolbar-button" title="显示/隐藏工具栏">
            <span class="material-icons">menu</span>
        </button>
        
        <div class="toolbar">
            <div class="tool-group">
                <button id="pen" class="icon-button active" title="画笔">
                    <span class="material-icons">edit</span>
                </button>
                <button id="eraser" class="icon-button" title="橡皮擦">
                    <span class="material-icons">auto_fix_normal</span>
                </button>
                <button id="text" class="icon-button" title="文本">
                    <span class="material-icons">text_fields</span>
                </button>
                <button id="select" class="icon-button" title="选择">
                    <span class="material-icons">near_me</span>
                </button>
                <label for="imageUpload" class="icon-button" title="上传图片">
                    <span class="material-icons">image</span>
                </label>
                <input type="file" id="imageUpload" class="hidden" accept="image/*">
                <div class="dropdown">
                    <button id="shape" class="icon-button" title="形状">
                        <span class="material-icons">category</span>
                    </button>
                    <div class="dropdown-content">
                        <div class="dropdown-item" data-shape="rect">
                            <span class="material-icons">crop_square</span>
                            方形
                        </div>
                        <div class="dropdown-item" data-shape="circle">
                            <span class="material-icons">radio_button_unchecked</span>
                            圆形
                        </div>
                        <div class="dropdown-item" data-shape="arrow">
                            <span class="material-icons">arrow_forward</span>
                            箭头
                        </div>
                    </div>
                </div>
                <button id="undo" class="icon-button" title="撤销">
                    <span class="material-icons">undo</span>
                </button>
                <button id="aiRenderButton" class="icon-button" title="AI渲染">
                    <span class="material-icons">auto_awesome</span>
                </button>
                <button id="textRecognition" class="icon-button" title="文本识别">
                    <span class="material-icons">document_scanner</span>
                </button>
                <div class="color-picker-wrapper">
                    <input type="color" id="colorPicker" value="#000000">
                    <span class="material-icons">palette</span>
                </div>
                <button id="new" class="icon-button" title="新建画布">
                    <span class="material-icons">description</span>
                </button>
                <button id="save" class="icon-button" title="保存">
                    <span class="material-icons">save</span>
                </button>
                <button id="help" class="icon-button" title="使用说明">
                    <span class="material-icons">help_outline</span>
                </button>
            </div>
        </div>
        
        <div class="canvas-container">
            <canvas id="drawingBoard"></canvas>
            <div id="textInput" class="text-input text-input-hidden">
                <textarea id="textContent" placeholder="请输入文本..." class="text-area-no-resize"></textarea>
                <div class="button-group">
                    <button id="confirmText" class="primary-button">确定</button>
                    <button id="cancelText">取消</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/mermaid-init.js"></script>
    <script src="js/canvas.js"></script>
    <script src="js/mermaid-renderer.js"></script>
    <script src="js/product-intro.js"></script>
    <script src="js/toolbar-controller.js"></script>
    <script src="js/text-recognition.js"></script>
</body>
</html> 